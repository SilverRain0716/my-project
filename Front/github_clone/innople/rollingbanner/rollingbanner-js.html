<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolling Banner Javascript Version</title>
    <link rel="stylesheet" href="./rollingbanner-js.css">
    <script>
        //DOM 생성 후
		var originalID, cloneID; //인터벌 포인터
        window.addEventListener('DOMContentLoaded', function(){

			//롤링 배너 복제본 생성
            let roller = document.querySelector('.roller');
            roller.id = 'roller1';

            let clone = roller.cloneNode(true);
            clone.id = 'roller2';
            document.querySelector('.wrap').appendChild(clone); //부착

			//원본, 복제본 배너 위치 지정
            document.querySelector('#roller1').style.left = '0px';
            document.querySelector('#roller2').style.left = document.querySelector('.roller ul').offsetWidth+'px';

			//클래스 할당
            roller.classList.add('original');
            clone.classList.add('clone');

			//인터벌 메서드로 애니메이션 생성
            let rollerWidth = document.querySelector('.roller ul').offsetWidth;//회전 배너 너비값
			let betweenDistance = 1;//이동 크기 - 정수여야 함
			originalID = window.setInterval(betweenRollCallback, parseInt(1000/100), betweenDistance, document.querySelector('#roller1'));
			cloneID = window.setInterval(betweenRollCallback, parseInt(1000/100), betweenDistance, document.querySelector('#roller2'));

			//인터벌 애니메이션 함수(공용)
			function betweenRollCallback(d, roller){
				let left = parseInt(roller.style.left);
				roller.style.left = (left - d)+'px';//이동
				//조건부 위치 리셋
				if(rollerWidth + (left - d) <= 0){
					roller.style.left = rollerWidth+'px';
				}
			}		
        });
    </script>
</head>
<body>
	<div class="container">
		<div class="rollingbanner">
			<div class="wrap">
				<div class="roller">
					<ul>
						<li><img src="https://picsum.photos/200/300?random=1" alt="image 1"></li>
						<li><img src="https://picsum.photos/200/300?random=2" alt="image 2">/li>
						<li><img src="https://picsum.photos/200/300?random=3" alt="image 3"</li>
						<li><img src="https://picsum.photos/200/300?random=4" alt="image 4"></li>
						<li><img src="https://picsum.photos/200/300?random=5" alt="image 5"></li>
						<li><img src="https://picsum.photos/200/300?random=6" alt="image 6"></li>
						<li><img src="https://picsum.photos/200/300?random=7" alt="image 7"></li>
						<li><img src="https://picsum.photos/200/300?random=8" alt="image 8"></li>
						<li><img src="https://picsum.photos/200/300?random=9" alt="image 9"></li>
						<li><img src="https://picsum.photos/200/300?random=10" alt="image 10"></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</body>
</html>

